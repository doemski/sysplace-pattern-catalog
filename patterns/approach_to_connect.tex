\input{header.tex}

\newcommand{\name}{Approach To Connect}

% -------------------------------
% WAS
% -------------------------------

\newcommand{\desc}{Ein Benutzer möchte zur Datenübertragung eine Verbindung zwischen seinem mobilen Gerät und einem weiteren, in der Nähe befindlichen Gerät aufbauen.}

\newcommand{\solution}{Ein Benutzer nähert (\gls{approach}) sich mit seinem Gerät (dem \sendev{}) einem entfernten Gerät (dem \recdev{}). Nähert er sich dem \recdev{} bis auf einen bestimmten räumlichen Abstand, wird eine Verbindung hergestellt, die zur Datenübertragung genutzt werden kann.}

%\newcommand{\category}{give}
%\newcommand{\category}{take}
%\newcommand{\category}{exchange}
%\newcommand{\category}{extend}
\newcommand{\category}{connect}

% -------------------------------
% WIE
% -------------------------------

\newcommand{\useraction}{Der Benutzer hält ein mobiles \sendev{} in der Hand und nähert sich einem \recdev{} (z.B. einem großen Wanddisplay oder einem Tablet auf dem Tisch). Zwischen \sendev{} und \recdev{} besteht keine Verbindung. Wird nun ein vordefinierter Mindestabstand (Abstands-Schwellwert) unterschritten, initiiert eines der Geräte (üblicherweise das \sendev{}) den Verbindungsaufbau, indem es einen Verbindungsanfrage an das andere sendet.}

\newcommand{\reactionSen}{Besteht keine Verbindung zwischen den Geräten, ist das \sendev{} im Monitoring-Modus, in dem es auf Geräte in der Umgebung wartet, was dem Benutzer visuell durch statisches oder kontinuierliches Feedback sichtbar gemacht werden kann. Unterschreitet der Benutzer den Abstands-Schwellwert, erhält er auf dem \sendev{} ein Feedback über das erkannte \recdev{} und den Beginn des Verbindungsaufbaus (z.B. akustisch oder visuell). Bei \textit{erfolgreichem} oder \textit{gescheiterten} Verbindungsaufbau erhält der Benutzer ein entsprechendes Feedback, das wiederum z.B. aus einem akustischen Signal oder Vibration bestehen kann.}

\newcommand{\reactionRec}{Das Empfangsgerät spielt eine passive Rolle und sollte dann Feedback geben, wenn ein mobiles Gerät erkannt wurde und ein Verbindungsaufbau stattfindet, sodass die Reaktion des \sendev{}s und des \recdev{}s gleichzeitig stattfinden und die Zuordnung der Geräte zueinander über das Feedback sichtbar wird.}

\newcommand{\microinteractionstabular}{
\begin{figure}[H]
\begin{table}[H]
\renewcommand{\arraystretch}{2}\addtolength{\tabcolsep}{-2pt}
\centering
\newcolumntype{b}{X}
\newcolumntype{t}{>{\hsize=.3\hsize}X}
\newcolumntype{s}{>{\hsize=.2\hsize}c}
\newcolumntype{m}{>{\hsize=.6\hsize}X}
\begin{tabularx}{\textwidth}{tsbbm}
\thead[X]{Name} & \thead[c]{Typ*} & \thead[X]{Trigger} & \thead[X]{Regeln} & \thead[X]{Feedback} \\
\hline
Enter Radius & M & Der Benutzer nähert sich dem anderen Gerät von außerhalb des Erkennungsradius der Technologie (z.B. Bluetooth) & Die Geräte erkennen, dass eine Verbindung zwischen ihnen möglich ist &  Animation 1, \newline Vibration\\
\hline
Cross Threshold & M & Der Benutzer unterschreitet den Entfernungsschwellwert & Eines der Geräte initiiert die Verbindung & Animation 2 \\
\hline
Connect & S & Verbindung zwischen den Geräten wurde hergestellt & Datentransfer \newline ist möglich & Animation 3 \\
\hline
\end{tabularx}
\end{table}
\caption{Atomare Interaktionen für das Approach to Connect Pattern}
\end{figure}
*Typ: (M)anuell, (S)ystem
}

\newcommand{\animations}{\begin{enumerate}
\item Enter Radius-Animation: Die Vibration erregt die Aufmerksamkeit des Nutzers. Die Animation informiert und visualisiert dem Benutzer, dass eine Verbindung zu einem anderen Gerät möglich ist (z.B. Ein Stecker und eine Steckdose erscheinen auf dem Bildschirm. Je näher der Benutzer dem Gerät kommt, desto näher kommt der Stecker der Steckdose)
\item Cross Threshold-Animation: Visualisiert dem Benutzer, dass er die Mindestentfernung zum Gerät erreicht hat (z.B. Der Stecker bleibt kurz vor der Steckdose stehen und vibriert)
\item Connect-Animation: visualisiert dem Benutzer, dass eine Verbindung hergestellt wurde und weitere Aktionen möglich sind (z.B. Der Stecker verbindet sich mit der Steckdose)
\end{enumerate}
}

\newcommand{\designnotes}{Der Abstands-Schwellwert darf nicht zu niedrig definiert werden, da  man sonst das \sendev{} auf das \recdev{} auflegen müsste bzw. sehr nah vor einem großen Bildschirm stehen würde.}

% -------------------------------
% WANN
% -------------------------------

\newcommand{\validcontext}{Verbinden von mobilen und stationären Geräten, Verbinden von Privatgeräten mit (halb-)öffentlichen Displays.}

\newcommand{\simultaneously}{}
%\newcommand{\sequentially}{}

\newcommand{\online}{}
\newcommand{\offline}{}

\newcommand{\private}{}
\newcommand{\semipublic}{}
%\newcommand{\public}{}
\newcommand{\stationary}{}
%\newcommand{\onthego}{}

%\newcommand{\leanback}{}
\newcommand{\leanforward}{}

\newcommand{\single}{}
\newcommand{\collaboration}{}
\newcommand{\facetoface}{}
%\newcommand{\sidetoside}{}
%\newcommand{\cornertocorner}{}

%\newcommand{\smalltask}{}
%\newcommand{\repeatedtask}{}
%\newcommand{\locationbased}{}
%\newcommand{\distraction}{}
%\newcommand{\urgent}{}

\newcommand{\notvalidcontext}{Aufbauen einer Verbindung zu vertraulichen Geräten oder zum Austausch vertraulicher Daten; Sichtbarmachen vertraulicher Informationen (z.B. Name, Alter etc.) auf öffentlichen Displays.}


\newcommand{\devicetabular}{
\begin{tabular}[H]{|c|c|c|c|c|c|}
\hline
\diagbox{von}{nach}   & Smartwatch & Smartphone & Tablet & Tabletop & Screens \\
\hline
Smartwatch            &            &     x      &   x    &     x    &     x   \\
\hline
Smartphone            &            &     x      &   x    &     x    &     x   \\
\hline
Tablet                &            &            &       &          &         \\
\hline
Tabletop              &            &            &        &          &         \\
\hline
Screens               &            &            &        &          &         \\
\hline
\end{tabular} }

% -------------------------------
% WARUM
% -------------------------------

%\newcommand{\established}{}
\newcommand{\candidate}{}
\newcommand{\realizable}{}
%\newcommand{\futuristic}{}

\newcommand{\otherpatterns}{
\begin{itemize}
\item Approach To Give
\item Approach To Take
\item Approach To Extend
\item Leave To Disconnect
\end{itemize}
}

\newcommand{\stateoftheart}{
\begin{enumerate}
\item Aufbauen einer Bluetooth-Verbindung beim Betreten des Raums \cite{Dachselt2009}.
\item Kommunikation verschiedener Personen mit einem Fernseher basierend auf der Nähe \cite{Greenberg2011}.
\item Theoretische und praktische Ansätze zu \textit{Proxemics}, behandelt auch negative Nutzungskontexte (sog. Dark Patterns) \cite{Marquardt2015}, \cite{Marquardt2012}.
\item Googles Proximity Beacon API auf Basis von Eddystone \cite{Eddystone2016}.
\item Apples iBeacon-Standard zur Erkennung von Proximity \cite{IBeacon2016}.
\item Aufbauen einer WLAN-Verbindung über räumliche Nähe \cite{Rekimoto2003}.
\end{enumerate}
}


\newcommand{\designprinciples}{}

\newcommand{\imageschemata}{}
%\newcommand{\imageSchemaVoid}{}
%\newcommand{\imageSchemaObject}{}
%\newcommand{\imageSchemaSubstance}{}
\newcommand{\imageSchemaCenterPeriphery}{}
%\newcommand{\imageSchemaContact}{}
%\newcommand{\imageSchemaFrontBack}{}
%\newcommand{\imageSchemaLocation}{}
\newcommand{\imageSchemaNearFar}{}
\newcommand{\imageSchemaPath}{}
%\newcommand{\imageSchemaSourcePathGoal}{}
%\newcommand{\imageSchemaScale}{}
%\newcommand{\imageSchemaLeftRight}{}
%\newcommand{\imageSchemaContainer}{}
%\newcommand{\imageSchemaContent}{}
%\newcommand{\imageSchemaFullEmpty}{}
\newcommand{\imageSchemaInOut}{}
%\newcommand{\imageSchemaSurface}{}
%\newcommand{\imageSchemaMerging}{}
%\newcommand{\imageSchemaSplitting}{}
%\newcommand{\imageSchemaMomentum}{}
%\newcommand{\imageSchemaSelfMotion}{}
%\newcommand{\imageSchemaBigSmall}{}
%\newcommand{\imageSchemaFastSlow}{}
%\newcommand{\imageSchemaPartWhole}{}

\newcommand{\realworld}{}
%\newcommand{\realworldNaivePhysic}{}
\newcommand{\realworldBodyAwareness}{}
\newcommand{\realworldEnvironmentAwareness}{}
%\newcommand{\realworldSocialAwareness}{}

\newcommand{\metaphor}{}
\newcommand{\metaphordesc}{Magnete (die sich bei geringer Distanz verbinden durch ihre Pole)}

% -------------------------------
% TECHNISCHES
% -------------------------------

\newcommand{\requiredTechnologies}{
Um Approach To Connect auf einem Gerät (\textit{Device}) ausführen zu können, gibt es einige Voraussetzungen und Einschränkungen bezüglich der verfügbaren Technologien auf diesem Gerät. Ein Gerät ist dann für das Approach To Connect Pattern verwendbar, wenn es folgende Eigenschaften aufweist:
\begin{itemize}
\item \textbf{Proximity}: Voraussetzung für die Erkennung der Approach To Connect Geste ist die technische Möglichkeit, Entfernungen zu anderen Geräten messen zu können. Dazu gibt es verschiedene technische Möglichkeiten, wobei zumeist \textit{Bluetooth Low Energy} für weitere und \textit{NFC} für kurze Distanzen weit verbreitet ist.
\item \textbf{Output}: Je nachdem, welches Feedback dem User gegeben werden soll, sind visueller Output (Bildschirm) sowie Vibration und Sound denkbar, um erkannte Geräte und aufgebaute Verbindungen zu signalisieren.
\item \textbf{Connectivity}: Ziel der Approach To Connect Geste ist das Aufbauen einer Verbindung zu einem entfernten Gerät. Es wird hier von einer Ad-Hoc Verbindung ausgegangen, also einer direkten Verbindung mit dem entfernten Gerät. Bei Verwendung von \textit{Bluetooth Low Energy} als \textit{Proximity}-Hardware bietet sich der Aufbau einer Bluetooth-Verbindung zur Datenübertragung an.
\end{itemize}

Abbildung \ref{approach_hardware} fasst die benötigten Technologien modellhaft zusammen.

\begin{figure}[h]
\includegraphics[width=\textwidth]{approach_hardware.png}
\caption{Benötigte Technologien für das Approach To Connect Pattern}
\label{approach_hardware}
\end{figure}
}

\newcommand{\implementation}{
\subsubsection*{Ablauf Gestenerkennung}
Bei der Geste Approach To Connect handelt es sich um eine \gls{einfachegeste}, deren Erkennung nur auf einem Gerät durchgeführt werden muss. Der allgemeine Ablauf entfällt in zwei Teile (s. Abbildung \ref{gesture_detection}):
\begin{itemize}
\item Erkennen der Geste (\textit{Gesture Detection}) und
\item Überprüfen eventueller Bedingungen an die Geste (\textit{Constraint Check}).
\end{itemize}

\begin{figure}[h]
\includegraphics[width=\textwidth]{gesture_detection.png}
\caption{Allgemeiner Ablauf einer Gestenerkennung}
\label{gesture_detection}
\end{figure}
Wurde die Geste erkannt, wird ein entsprechendes \textit{GestureEvent} generiert, das an den \textit{Constraint Check} übergeben wird.

\subsubsection*{Approach Erkennung}
Zum Erkennen der Geste wird \textit{Proximity}-Hardware vorausgesetzt, die \textit{Ranging} ermöglicht, also eine kontinuierliche Suche nach Geräten in der Umgebung. Gefundene Geräte sollten sich mit einer \textit{Service-UUID} o.Ä. identifizieren, anhand derer sie als mögliche Verbindungspartner identifiziert werden können. Daraus ergeben sich folgende Events:
\begin{itemize}
\item \textbf{DEVICE\_FOUND}: Beim Ranging wurde ein entferntes Gerät gefunden.
\item \textbf{MATCH}: Ein gefundenes Gerät besitzt die korrekte Service-UUID.
\item \textbf{NO\_MATCH}: Ein gefundenes Gerät besitzt eine ungültige Service-UUID.
\item \textbf{STOP\_RANGING}: Das Ranging wurde beendet, es werden keine weiteren.
\end{itemize}

Basierend auf diesen Events ergibt sich die Implementierung der Approach-Erkennung entsprechend Abbildung \ref{recognize_approach}. Ein Approach wird dann erkannt, wenn ein beim Ranging gefundenes Gerät die erwartete Service-UUID besitzt. Danach kann entweder nach weiteren Geräten gesucht oder die Suche beendet werden. Besitzt ein gefundenes Gerät keine gültige Service-UUID, wird so lange weiter gesucht, bis entweder ein möglicher Verbindungspartner gefunden wurde oder ein Abbruch des Ranging signalisiert wird. Wurde ein Approach erkannt, wird ein \textit{ProximityEvent} generiert, das für die Überprüfung der \textit{Constraints} im nächsten Schritt benötigt wird.

\begin{figure}[h]
\includegraphics[width=\textwidth]{approach_recognize.png}
\caption{Erkennung der Approach Geste}
\label{recognize_approach}
\end{figure}

\subsubsection*{Approach Constraint Check}
Um einzuschränken, unter welchen Bedingungen eine Annäherung als Approach To Connect gewertet werden soll, wird das im vorigen Schritt generierte \textit{ProximityEvent} mit vorher gesetzten \textit{Constraint} verglichen. Abbildung \ref{check_approach_constraints} zeigt beispielhaft den Ablauf des \textit{Constraint Checks}. Es werden zwei Constraints überprüft:
\begin{itemize}
\item Ein Integer, die sog. Major-Nummer und
\item die Entfernung (\textit{Proximity}) zum erkannten Gerät.
\end{itemize}
Der erste Constraint ist angelehnt an das iBeacon-Protokoll, in dem neben einer Service-UUID (s. voriges Kapitel) zur eindeutigen Identifikation von Geräten eine Major- und Minor-Nummer gesendet werden können. Dadurch kann der Kreis möglicher Verbindungspartner weiter eingeschränkt werden.
Im nächsten Schritt wird die gemessene Entfernung mit einem Vorgabewert verglichen. Die vier Bereiche \textit{immediate}, \textit{near}, \textit{far} und \textit{unknown} sind angelehnt an \cite{Marquardt2015} und können auch durch konkrete Entfernungswerte ersetzt werden.\\

Entsprechend dem Lebenszyklus einer Multiscreen-Applikation besteht nach erfolgreich
ausgeführtem Approach To Connect eine Verbindung zum \recdev{}, was die Voraussetzung für Transfer-Gesten ist.
Weitergehende Informationen zum Applikations-Lebenszyklus und den weiteren
Gestaltungsmöglichkeiten für den \textit{Connect}, \textit{Feedbacks} etc. finden sich
auf der \developerpage.

\begin{figure}[h]
\includegraphics[width=\textwidth]{approach_check_constraints.png}
\caption{Überprüfung der Constraints für die Approach Geste}
\label{check_approach_constraints}
\end{figure}
}

% -------------------------------
% SONSTIGES
% -------------------------------

\newcommand{\authors}{Horst Schneider, Hochschule Mannheim\\
Dominick Madden, Hochschule Mannheim\\
Valentina Burjan, Hochschule Mannheim}
\newcommand{\versionhistory}{20.02.2017}
\newcommand{\dateofcreation}{15.08.2015}
\newcommand{\comments}{...}
\newcommand{\questions}{...}


% template inkludieren --------------

\input{template.tex}
