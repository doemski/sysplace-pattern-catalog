\input{header.tex}

\newcommand{\name}{Approach To Take}

% -------------------------------
% WAS
% -------------------------------

\newcommand{\desc}{Ein Benutzer (der \rec{}) hat ein Gerät (das \recdev{}) und will ein \data\ von einem stationären \sendev{} anfordern. Es soll über Distanz vom \sendev{} auf das \recdev{} übertragen werden, sodass es anschließend auf beiden Geräten verfügbar ist.}

\newcommand{\solution}{Der Benutzer nähert (\gls{approach}) sich mit seinem Gerät einem entfernten Gerät. Nähert er sich dem \sendev{} bis auf einen bestimmten räumlichen Abstand, wird das \data{} auf das \recdev{} übertragen.}

%\newcommand{\category}{give}
\newcommand{\category}{take}
%\newcommand{\category}{exchange}
%\newcommand{\category}{extend}
%\newcommand{\category}{connect}

% -------------------------------
% WIE
% -------------------------------

\newcommand{\useraction}{Der Benutzer hat ein \recdev\ bei sich und nähert sich einem \sendev{} (z.B. einem großen Wanddisplay). Ein \data\ ist zum Versenden ausgewählt worden. \recdev\ und \sendev\ sind bereits zum bidirektionalen Datenaustausch verbunden.\\
Wird nun ein vordefinierter Mindestabstand (Abstands-Schwellwert) unterschritten, versendet das \sendev\ das \data\ an das \recdev{}.}

\newcommand{\swapReactions}{}

\newcommand{\reactionRec}{
Auf dem \recdev\ kann dem Benutzer zu verschiedenen Phasen der Interaktion Feedback gegeben werden. Dabei sollte vor allem haptisches und auditives Feedback genutzt werden, sodass der Nutzer auf die Interaktion aufmerksam wird, auch wenn er das Display des Geräts nicht sieht (z.B. in der Hosentasche). Ein Approach besteht aus den zwei \glslink{atomareinteraktion}{atomaren Interaktionen} \textit{Enter Radius} und \textit{Cross Threshold}. Nach Beendigung der letzten atomaren Interaktion wird der Transfer des selektierten \data s\ ausgeführt.
}

\newcommand{\reactionSen}{Das \sendev\ spielt eine passive Rolle, sollte  dem Nutzer jedoch trotzdem Feedback über die nötige Entfernung zwischen sich und dem Nutzer geben. Zusätzlich muss dem Nutzer ein erfolgreiches Empfangen seines \data\ kenntlich gemacht werden. Dieses Feedback kann visuell sein, sofern das Display des Geräts sichtbar ist.}

\newcommand{\microinteractionstabular}{
\begin{figure}[H]
\begin{table}[H]
\renewcommand{\arraystretch}{2}\addtolength{\tabcolsep}{-2pt}
\centering
\newcolumntype{b}{X}
\newcolumntype{t}{>{\hsize=.3\hsize}X}
\newcolumntype{s}{>{\hsize=.2\hsize}c}
\newcolumntype{m}{>{\hsize=.6\hsize}X}
\begin{tabularx}{\textwidth}{tsbbm}
\thead[X]{Name} & \thead[c]{Typ*} & \thead[X]{Trigger} & \thead[X]{Regeln} & \thead[X]{Feedback} \\
\hline
Enter Radius & M & Der Benutzer nähert sich dem anderen Gerät von außerhalb des Erkennungsradius der Technologie (z.B. Bluetooth) & Die Geräte erkennen gegenseitig ihre Anwesenheit und bereiten eine Datenübertragung vor &  Animation 1, \newline Vibration\\ 
\hline
Cross Threshold & M & Der Benutzer überschreitet den Entfernungsschwellwert & Das \sendev\ schickt das \data\ an das \recdev\ & Animation 2 \\ 
\hline
Receive & S & \recdev\ hat Daten empfangen & Das \data\ ist zulässig und kann verarbeitet werden & Animation 3, Vibration \\
\hline
\end{tabularx}
\end{table}
\caption{Atomare Interaktionen für das Approach to Take Pattern}
\end{figure}
*Typ: (M)anuell, (S)ystem
}

\newcommand{\animations}{\begin{enumerate}
\item Enter Radius-Animation: Die Vibration erregt die Aufmerksamkeit des Nutzers. Die Animation visualisiert dem Benutzer, dass er sich einem \recdev\ nähert. (z.B. Eine radarähnliche Oberfläche mit Echtzeitortung erscheint auf beiden Geräten)
\item Cross Threshold-Animation: Visualisiert dem Benutzer, dass er die Sendeschwelle übertreten hat. (z.B. Ein \data\ fliegt vom Display des \sendev\ in Richtung des \recdev{}s)
\item Receive-Animation: Die Vibration des \recdev{}s und die Animationen signalisieren dem Benutzer, dass die Übertragung erfolgreich war. (z.B. Das \data\ fliegt auf das Display des \recdev{}s)
\end{enumerate}
}

\newcommand{\designnotes}{Der Abstands-Schwellwert darf nicht zu niedrig definiert werden, da  man sonst das \recdev{} auf das \sendev{} auflegen, bzw. sehr nah vor einem großen Bildschirm stehen müsste. Zudem sollte die Annäherung eindeutig sein, d.h. es sollten innerhalb eines Interaktionskontexts keine konkurrierenden Annäherungsgesten möglich sein.}

% -------------------------------
% WANN
% -------------------------------

\newcommand{\validcontext}{Screens am Eingangsbereich übertragen nützliche Informationen an Besucher (z.B. Lageplan auf Konferenzen)}

\newcommand{\simultaneously}{}
%\newcommand{\sequentially}{}

\newcommand{\private}{}
\newcommand{\semipublic}{}
\newcommand{\public}{}
\newcommand{\stationary}{}
%\newcommand{\onthego}{}

\newcommand{\leanback}{}
\newcommand{\leanforward}{}

\newcommand{\single}{}
\newcommand{\collaboration}{}
\newcommand{\facetoface}{}
%\newcommand{\sidetoside}{}
%\newcommand{\cornertocorner}{}

%\newcommand{\smalltask}{}
%\newcommand{\repeatedtask}{}
%\newcommand{\locationbased}{}
%\newcommand{\distraction}{}
%\newcommand{\urgent}{} 

\newcommand{\notvalidcontext}{Übertragung von ungewollten Daten (Dark Patterns)}


\newcommand{\devicetabular}{
\begin{tabular}[H]{|c|c|c|c|c|c|}
\hline 
\diagbox{von}{nach}   & Smartwatch & Smartphone & Tablet & Tabletop & Screens \\ 
\hline 
Smartwatch            &           &           &   x    &     x    &     x   \\ 
\hline 
Smartphone            &           &           &   x    &     x    &     x   \\ 
\hline 
Tablet                &           &           &   x    &     x    &     x   \\ 
\hline 
Tabletop              &            &            &        &          &        \\ 
\hline
Screens               &            &            &        &          &         \\ 
\hline 
\end{tabular} }

% -------------------------------
% WARUM
% -------------------------------

%\newcommand{\established}{}
\newcommand{\candidate}{}
\newcommand{\realizable}{}
%\newcommand{\futuristic}{}

\newcommand{\otherpatterns}{
\begin{itemize}
\item Approach To Connect
\item Approach To Extend
\item Approach To Give
\item Leave To Disconnect
\end{itemize}}

\newcommand{\stateoftheart}{
\begin{enumerate}
\item Theoretische und praktische Ansätze zu \textit{Proxemics}, behandelt auch negative Nutzungskontexte (sog. Dark Patterns) \cite{Marquardt2015}, \cite{Marquardt2012}.
\item Kommunikation verschiedener Personen mit einem Fernseher basierend auf der Nähe \cite{Greenberg2011}.
\item Googles Proximity Beacon API auf Basis von Eddystone \cite{Eddystone2016}
\item Apples iBeacon-Standard zur Erkennung von Proximity \cite{IBeacon2016}
\end{enumerate}
}

\newcommand{\designprinciples}{}

\newcommand{\imageschemata}{}
%\newcommand{\imageSchemaVoid}{}
%\newcommand{\imageSchemaObject}{}
%\newcommand{\imageSchemaSubstance}{}
%\newcommand{\imageSchemaCenterPeriphery}{}
%\newcommand{\imageSchemaContact}{}
%\newcommand{\imageSchemaFrontBack}{}
\newcommand{\imageSchemaLocation}{}
\newcommand{\imageSchemaNearFar}{}
\newcommand{\imageSchemaPath}{}
\newcommand{\imageSchemaSourcePathGoal}{}
%\newcommand{\imageSchemaScale}{}
%\newcommand{\imageSchemaLeftRight}{}
\newcommand{\imageSchemaContainer}{}
%\newcommand{\imageSchemaContent}{}
%\newcommand{\imageSchemaFullEmpty}{}
\newcommand{\imageSchemaInOut}{}
%\newcommand{\imageSchemaSurface}{}
\newcommand{\imageSchemaMerging}{}
%\newcommand{\imageSchemaSplitting}{}
%\newcommand{\imageSchemaMomentum}{}
\newcommand{\imageSchemaSelfMotion}{}
%\newcommand{\imageSchemaBigSmall}{}
%\newcommand{\imageSchemaFastSlow}{}
%\newcommand{\imageSchemaPartWhole}{}

\newcommand{\realworld}{}
\newcommand{\realworldNaivePhysic}{}
\newcommand{\realworldBodyAwareness}{}
\newcommand{\realworldEnvironmentAwareness}{}
\newcommand{\realworldSocialAwareness}{}

\newcommand{\metaphor}{}
\newcommand{\metaphordesc}{Magnet}

% -------------------------------
% TECHNISCHES
% -------------------------------

\newcommand{\requiredTechnologies}{
Um Approach To Take auf dem \recdev{} ausführen zu können, gibt es einige Voraussetzungen und Einschränkungen bezüglich der verfügbaren Technologien auf diesem Gerät. Ein Gerät ist dann für das Approach To Take Pattern verwendbar, wenn es folgende Eigenschaften aufweist:
\begin{itemize}
\item \textbf{Proximity}: Voraussetzung für die Erkennung der Approach To Take Geste ist die technische Möglichkeit, Entfernungen zu anderen Geräten messen zu können. Dazu gibt es verschiedene technische Möglichkeiten, wobei zumeist \textit{Bluetooth Low Energy} für weite und \textit{NFC} für kurze Distanzen verbreitet ist.
\item \textbf{Output}: Je nachdem, welches Feedback dem User gegeben werden soll, sind visueller Output (Bildschirm) sowie Vibration und Sound denkbar, um den Status von Dateiübertragungen zu signalisieren.
\item \textbf{Connectivity}: Ziel der Approach To Take Geste ist die Dateiübertragung
zwischen zwei Geräten, die bereits über ein Ad-Hoc Netzwerk wie Bluetooth oder WiFi Direct miteinander verbunden sind. Alternativ kann auch eine Vermittlungskomponente (Server) genutzt werden, der den Datenaustausch zentral verwaltet.
\end{itemize}

Abbildung \ref{approach_hardware} fasst die benötigten Technologien modellhaft zusammen.

\begin{figure}[h]
\includegraphics[width=\textwidth]{approach_hardware.png}
\caption{Benötigte Technologien für das Approach To Take Pattern}
\label{approach_hardware}
\end{figure}
}

\newcommand{\implementation}{
\subsubsection*{Ablauf Gestenerkennung}
Bei der Geste Approach To Give handelt es sich um eine \gls{einfachegeste}, deren Erkennung nur auf einem Gerät durchgeführt werden muss. Der allgemeine Ablauf entfällt in zwei Teile (s. Abbildung \ref{gesture_detection}):
\begin{itemize}
\item Erkennen der Geste (\textit{Gesture Detection}) und
\item Überprüfen eventueller Bedingungen an die Geste (\textit{Constraint Check}).
\end{itemize}

\begin{figure}[h]
\includegraphics[width=\textwidth]{gesture_detection.png}
\caption{Allgemeiner Ablauf einer Gestenerkennung}
\label{gesture_detection}
\end{figure}
Wurde die Geste erkannt, wird ein entsprechendes \textit{GestureEvent} generiert, das an den \textit{Constraint Check} übergeben wird.

\subsubsection*{Approach Erkennung}
Zum Erkennen der Geste wird \textit{Proximity}-Hardware vorausgesetzt, die \textit{Ranging} ermöglicht, also eine kontinuierliche Suche nach Geräten in der Umgebung. Gefundene Geräte sollten sich mit einer \textit{Service-UUID} o.Ä. identifizieren, anhand derer sie als mögliche Verbindungspartner identifiziert werden können. Daraus ergeben sich folgende Events:
\begin{itemize}
\item \textbf{DEVICE\_FOUND}: Beim Ranging wurde ein entferntes Gerät gefunden.
\item \textbf{MATCH}: Ein gefundenes Gerät besitzt die korrekte Service-UUID.
\item \textbf{NO\_MATCH}: Ein gefundenes Gerät besitzt eine ungültige Service-UUID.
\item \textbf{STOP\_RANGING}: Das Ranging wurde beendet, es werden keine weiteren Geräte gesucht. 
\end{itemize}

Basierend auf diesen Events ergibt sich die Implementierung der Approach-Erkennung entsprechend Abbildung \ref{recognize_approach}. Ein Approach wird dann erkannt, wenn ein beim Ranging gefundenes Gerät die erwartete Service-UUID besitzt. Danach kann entweder nach weiteren Geräten gesucht oder die Suche beendet werden. Besitzt ein gefundenes Gerät keine gültige Service-UUID, wird so lange weiter gesucht, bis entweder ein möglicher Verbindungspartner gefunden wurde oder ein Abbruch des Ranging signalisiert wird. Wurde ein Approach erkannt, wird ein \textit{ProximityEvent} generiert, das für die Überprüfung der \textit{Constraints} im nächsten Schritt benötigt wird.

\begin{figure}[h]
\includegraphics[width=\textwidth]{approach_recognize.png}
\caption{Erkennung der Approach Geste}
\label{recognize_approach}
\end{figure}

\subsubsection*{Approach Constraint Check}
Um einzuschränken, unter welchen Bedingungen eine Annäherung als Approach To Take gewertet werden soll, wird das im vorigen Schritt generierte \textit{ProximityEvent} mit vorher gesetzten \textit{Constraint} verglichen. Abbildung \ref{check_approach_constraints} zeigt beispielhaft den Ablauf des \textit{Constraint Checks}. Es werden zwei Constraints überprüft:
\begin{itemize}
\item Ein Integer, die sog. Major-Nummer und
\item die Entfernung (\textit{Proximity}) zum erkannten Gerät.
\end{itemize}
Der erste Constraint ist angelehnt an das iBeacon-Protokoll, in dem neben einer Service-UUID (s. voriges Kapitel) zur eindeutigen Identifikation von Geräten eine Major- und Minor-Nummer gesendet werden kann. Dadurch kann der Kreis möglicher Verbindungspartner weiter eingeschränkt werden. 
Im nächsten Schritt wird die gemessene Entfernung mit einem Vorgabewert verglichen. Die vier Bereiche \textit{immediate}, \textit{near}, \textit{far} und \textit{unknown} sind angelehnt an \cite{Marquardt2015} und können auch durch konkrete Entfernungswerte ersetzt werden.\\

Entsprechend dem Lebenszyklus einer Multiscreen-Applikation ist die Voraussetzung
für Approach To Take eine bestehende Verbindung zum \sendev{} (vorangegangener Connect) und die Auswahl zu übermittelnder Daten (Select) auf dem \sendev{}. Approach To Take kann mehrmals hintereinander ausgeführt werden (Sequenz von Transfers), solange kein Disconnect erfolgt ist.\\

Weitergehende Informationen zum Applikations-Lebenszyklus und den weiteren
Gestaltungsmöglichkeiten für den \textit{Transfer}, \textit{Feedbacks} etc. finden sich
auf der \developerpage.

\begin{figure}[h]
\includegraphics[width=\textwidth]{approach_check_constraints.png}
\caption{Überprüfung der Constraints für die Approach Geste}
\label{check_approach_constraints}
\end{figure}
}

% -------------------------------
% SONSTIGES
% -------------------------------

\newcommand{\authors}{Horst Schneider, Hochschule Mannheim\\
Dominick Madden, Hochschule Mannheim\\
Valentina Burjan, Hochschule Mannheim}
\newcommand{\versionhistory}{20.02.2017}
\newcommand{\dateofcreation}{15.08.2015}
\newcommand{\comments}{...}
\newcommand{\questions}{...}

% template inkludieren --------------

\input{template.tex}